<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Asset Details - Simple Asset Monitor</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>üñ•Ô∏è Simple Asset Monitor</h1>
        <div class="nav">
          <a href="index.html">Dashboard</a>
          <a href="assets.html">Assets</a>
          <a href="alerts.html">Alerts</a>
        </div>
      </header>

      <main>
        <!-- Asset Header -->
        <div class="section">
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 20px;
            "
          >
            <div>
              <h2 id="asset-title">Loading Asset...</h2>
              <p id="asset-subtitle" style="color: #666; margin: 5px 0"></p>
            </div>
            <div>
              <button class="btn btn-primary" onclick="triggerMLAnalysis()">
                ü§ñ Run ML Analysis
              </button>
              <button class="btn btn-secondary" onclick="toggleEditMode()">
                ‚úèÔ∏è Edit Manual Fields
              </button>
            </div>
          </div>
        </div>

        <!-- Asset Information Grid -->
        <div
          style="
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
          "
        >
          <!-- Hardware Information -->
          <div class="section">
            <h3>üñ•Ô∏è Hardware Information</h3>
            <div id="hardware-info">
              <p class="loading">Loading hardware details...</p>
            </div>
          </div>

          <!-- Manual Fields -->
          <div class="section">
            <h3>üìù Business Information</h3>
            <div id="manual-fields">
              <p class="loading">Loading manual fields...</p>
            </div>

            <!-- Edit Form (hidden by default) -->
            <form id="manual-fields-form" style="display: none">
              <div class="form-group">
                <label>Branch:</label>
                <select name="branch">
                  <option value="Main Office">Main Office</option>
                  <option value="Branch 1">Branch 1</option>
                  <option value="Branch 2">Branch 2</option>
                  <option value="Branch 3">Branch 3</option>
                  <option value="Remote Office">Remote Office</option>
                </select>
              </div>
              <div class="form-group">
                <label>Purchase Date:</label>
                <input type="date" name="purchase_date" />
              </div>
              <div class="form-group">
                <label>Warranty Expiry:</label>
                <input type="date" name="warranty_expiry" />
              </div>
              <div class="form-group">
                <label>Purchase Value ($):</label>
                <input type="number" name="purchase_value" step="0.01" />
              </div>
              <div class="form-group">
                <label>Vendor:</label>
                <input type="text" name="vendor" placeholder="Dell, HP, etc." />
              </div>
              <div class="form-group">
                <label>Handled By:</label>
                <input
                  type="text"
                  name="handled_by"
                  placeholder="IT Personnel"
                />
              </div>
              <div class="form-group">
                <label>Notes:</label>
                <textarea
                  name="notes"
                  rows="3"
                  placeholder="Additional notes..."
                ></textarea>
              </div>
              <div style="margin-top: 15px">
                <button type="submit" class="btn btn-primary">
                  üíæ Save Changes
                </button>
                <button
                  type="button"
                  class="btn btn-secondary"
                  onclick="cancelEdit()"
                >
                  ‚ùå Cancel
                </button>
              </div>
            </form>
          </div>
        </div>

        <!-- Software Inventory -->
        <div class="section">
          <h3>üíø Software Inventory</h3>
          <div id="software-inventory">
            <div class="software-summary-stats">
              <div class="stat-item">
                <span class="stat-value" id="software-count">0</span>
                <span class="stat-label">Applications</span>
              </div>
              <div class="stat-item">
                <span class="stat-value" id="last-scan">Never</span>
                <span class="stat-label">Last Scan</span>
              </div>
            </div>
            <div class="table-container">
              <table id="software-table">
                <thead>
                  <tr>
                    <th>Application</th>
                    <th>Version</th>
                    <th>Vendor</th>
                    <th>Install Date</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td colspan="4" class="loading">
                      Loading software inventory...
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- AI/ML Predictions -->
        <div class="section">
          <h3>ü§ñ AI/ML Predictions & Recommendations</h3>
          <div id="ml-predictions">
            <p class="loading">Loading ML predictions...</p>
          </div>
        </div>

        <!-- Performance Charts -->
        <div class="section">
          <h3>üìä Performance Trends (Last 24 Hours)</h3>
          <div id="performance-charts">
            <p class="loading">Loading performance data...</p>
          </div>
        </div>

        <!-- Recent Alerts -->
        <div class="section">
          <h3>üö® Recent Alerts</h3>
          <div class="table-container">
            <table id="asset-alerts-table">
              <thead>
                <tr>
                  <th>Type</th>
                  <th>Message</th>
                  <th>Severity</th>
                  <th>Status</th>
                  <th>Created</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td colspan="5" class="loading">Loading alerts...</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </main>

      <footer>
        <p>
          <a href="assets.html">‚Üê Back to Assets</a> | Asset ID:
          <span id="footer-asset-id">-</span> | Last Updated:
          <span id="last-updated">Never</span>
        </p>
      </footer>
    </div>

    <script src="asset-detail.js"></script>
  </body>
</html>
